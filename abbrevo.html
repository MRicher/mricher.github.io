<!doctype html>
<html lang="en-CA">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Abbrevo</title>
    <meta
      name="description"
      content="This application edits, and generates HTML for the RCMP abbreviation and acronym data list template."
      data-en="This application edits, and generates HTML for the RCMP abbreviation and acronym data list template."
      data-fr="Cette application modifie et génère le code HTML pour le gabarit de la liste de données des abréviations et acronymes de la GRC."
    />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/creavia.css" />
    <link rel="stylesheet" href="css/abbrevo.css" />
  </head>

  <body>
    <a class="skip-link" href="#main-content" data-en="Skip to main content" data-fr="Passer au contenu principal">Skip to main content</a>

    <header>
      <nav class="navbar navbar-expand-lg" aria-label="Main navigation">
        <div class="container">
          <div class="navbar-brand d-flex align-items-center">
            <img src="img/list.svg" alt="" aria-hidden="true" class="me-2" style="height: 50px; width: auto" />
            <span data-en="Abbrevo" data-fr="Abbrevo">Abbrevo</span>
          </div>

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation menu"
          >
            <span class="navbar-toggler-icon" aria-hidden="true"></span>
            <span class="visually-hidden" data-en="Toggle navigation menu" data-fr="Basculer le menu de navigation"> Toggle navigation menu </span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="/index.html" data-en="Home" data-fr="Accueil">Home</a>
              </li>
            </ul>

            <div class="language-switcher" role="group" aria-label="Settings">
              <button
                id="theme-toggle"
                type="button"
                class="theme-toggle"
                aria-label="Toggle dark/light theme"
                data-en-dark="Switch to light mode"
                data-en-light="Switch to dark mode"
                data-fr-dark="Passer au mode clair"
                data-fr-light="Passer au mode sombre"
              >
                <span id="theme-text" data-en="Dark mode" data-fr="Mode sombre"> Dark mode </span>
              </button>

              <button
                id="lang-fr-btn"
                type="button"
                class="btn btn-outline-primary btn-sm"
                data-lang="fr-CA"
                aria-label="Passer au français"
                aria-pressed="true"
                style="display: none"
              >
                <span data-en="Français" data-fr="Français">Français</span>
              </button>

              <button
                id="lang-en-btn"
                type="button"
                class="btn btn-outline-primary btn-sm"
                data-lang="en-CA"
                aria-label="Switch to English"
                aria-pressed="true"
              >
                <span data-en="English" data-fr="English">English</span>
              </button>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container" id="main-content">
      <section aria-labelledby="main-heading">
        <h1 id="main-heading" class="mb-4" data-en="Abbrevo" data-fr="Abbrevo">Abbrevo</h1>

        <p
          class="lead"
          data-en="Add and manage abbreviations and acronyms with their full titles and notes in both English and French."
          data-fr="Ajoutez et gérez les abréviations et acronymes avec leurs titres complets et notes en anglais et en français."
        >
          Add and manage abbreviations and acronyms with their full titles and notes in both English and French.
        </p>

        <!-- Add New Entry Form -->
        <div class="card mb-4">
          <div class="card-body">
            <h2 class="card-title" data-en="Add new entry" data-fr="Ajouter une nouvelle entrée">Add new entry</h2>

            <div class="row mb-3">
              <div class="col-md-12">
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" id="internal-only" role="switch" />
                  <label class="form-check-label" for="internal-only" data-en="Internal only" data-fr="Interne seulement"> Internal only </label>
                </div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col-md-6">
                <label for="abbr-en" class="form-label" data-en="English abbreviation" data-fr="Abréviation anglaise">
                  English abbreviation
                </label>
                <input
                  type="text"
                  class="form-control"
                  id="abbr-en"
                  data-en="Enter English abbreviation"
                  data-fr="Entrez l'abréviation anglaise"
                  placeholder="Enter English abbreviation"
                />

                <label for="title-en" class="form-label required mt-3" data-en="English full title" data-fr="Titre complet anglais">
                  English full title
                </label>
                <input
                  type="text"
                  class="form-control"
                  id="title-en"
                  data-en="Enter English full title"
                  data-fr="Entrez le titre complet anglais"
                  placeholder="Enter English full title"
                  required
                />

                <div class="form-check form-switch mt-2">
                  <input class="form-check-input" type="checkbox" id="title-en-is-french" role="switch" />
                  <label class="form-check-label" for="title-en-is-french" data-en="Title is in French" data-fr="Le titre est en français">
                    Title is in French
                  </label>
                </div>
              </div>

              <div class="col-md-6">
                <label for="abbr-fr" class="form-label" data-en="French abbreviation" data-fr="Abréviation française">
                  French abbreviation
                </label>
                <input
                  type="text"
                  class="form-control"
                  id="abbr-fr"
                  data-en="Enter French abbreviation"
                  data-fr="Entrez l'abréviation française"
                  placeholder="Enter French abbreviation"
                />

                <label for="title-fr" class="form-label required mt-3" data-en="French full title" data-fr="Titre complet français">
                  French full title
                </label>
                <input
                  type="text"
                  class="form-control"
                  id="title-fr"
                  data-en="Enter French full title"
                  data-fr="Entrez le titre complet français"
                  placeholder="Enter French full title"
                  required
                />

                <div class="form-check form-switch mt-2">
                  <input class="form-check-input" type="checkbox" id="title-fr-is-english" role="switch" />
                  <label class="form-check-label" for="title-fr-is-english" data-en="Title is in English" data-fr="Le titre est en anglais">
                    Title is in English
                  </label>
                </div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col-md-12">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <span class="fw-bold" data-en="Previous abbreviations" data-fr="Abréviations précédentes">
                    Previous abbreviations
                  </span>
                  <button type="button" class="btn btn-sm btn-success" id="add-abbr-row-btn" onclick="addAbbrRow()">
                    <span data-en="+ Add row" data-fr="+ Ajouter ligne">+ Add row</span>
                  </button>
                </div>
                <div id="additional-abbr-container">
                  <!-- Additional abbreviation rows will be added here -->
                </div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col-md-12">
                <label for="transparent-notes" class="form-label" data-en="Transparent notes (optional)" data-fr="Notes transparentes (optionnel)">
                  Transparent Notes (Optional)
                </label>
                <textarea
                  class="form-control"
                  id="transparent-notes"
                  rows="3"
                  data-en="Enter transparent notes"
                  data-fr="Entrez les notes transparentes"
                  placeholder="Enter transparent notes"
                ></textarea>
              </div>
            </div>

            <button type="button" class="btn btn-primary" id="add-entry-btn" onclick="addEntry()">
              <span data-en="Add entry" data-fr="Ajouter l'entrée"> Add entry </span>
            </button>
          </div>
        </div>

        <!-- Save and Load Section -->
        <div class="card mb-4">
          <div class="card-body">
            <h2 class="card-title" data-en="Save and load" data-fr="Enregistrer et charger">Save and load</h2>

            <div class="d-flex gap-2 flex-wrap">
              <button type="button" class="btn btn-success" onclick="saveToJSON()">
                <span data-en="Save as JSON" data-fr="Enregistrer en JSON"> Save as JSON </span>
              </button>

              <button type="button" class="btn btn-success" onclick="saveToHTML()">
                <span data-en="Save as HTML" data-fr="Enregistrer en HTML"> Save as HTML </span>
              </button>

              <button type="button" class="btn btn-primary" onclick="document.getElementById('json-upload').click()">
                <span data-en="Upload JSON" data-fr="Charger JSON"> Upload JSON </span>
              </button>

              <input type="file" id="json-upload" accept="application/json,.json" style="display: none" onchange="loadFromJSON(event)" />
            </div>
          </div>
        </div>

        <!-- Entries List -->
        <div class="card">
          <div class="card-body">
            <h2 class="card-title" data-en="Current entries" data-fr="Entrées actuelles">Current entries</h2>

            <div id="entries-container" class="table-responsive">
              <p
                class="text-muted"
                data-en="No entries yet. Add your first abbreviation or acronym above."
                data-fr="Aucune entrée pour le moment. Ajoutez votre première abréviation ou acronyme ci-dessus."
              >
                No entries yet. Add your first abbreviation or acronym above.
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="mt-auto">
      <div class="container">
        <div class="text-center">
          <p id="version-info" class="mb-0" data-en="" data-fr=""></p>
        </div>
      </div>
    </footer>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/creavia.js"></script>
    <script src="js/abbrevo.js"></script>
  </body>
</html>
