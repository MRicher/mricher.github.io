<!DOCTYPE html>
<html lang="en-CA">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-en="Bilingual Web Application" data-fr="Application Web Bilingue">Bilingual Web Application</title>
    <meta name="description" data-en="A bilingual web application template with Bootstrap 5.3" data-fr="Un modÃ¨le d'application web bilingue avec Bootstrap 5.3" content="A bilingual web application template with Bootstrap 5.3">
    
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS for accessibility and styling -->
    <style>
        /* Theme variables - WCAG AAA compliant colors */
        :root {
            --navbar-bg: #ffffff;
            --navbar-border: #d1d5db;
            --navbar-text: #111827;
            --navbar-text-hover: #1d4ed8;
            --body-bg: #ffffff;
            --body-color: #111827;
            --card-bg: #ffffff;
            --card-border: #d1d5db;
            --hero-bg: #f9fafb;
            --footer-bg: #f9fafb;
            --footer-color: #111827;
            --link-color: #1d4ed8;
            --border-color: #d1d5db;
            --button-primary-bg: #1d4ed8;
            --button-primary-color: #ffffff;
            --button-outline-border: #1d4ed8;
            --button-outline-color: #1d4ed8;
            --button-outline-hover-bg: #1d4ed8;
            --alert-info-bg: #f0f9ff;
            --alert-info-border: #0ea5e9;
            --alert-info-color: #0c4a6e;
        }
        
        [data-theme="dark"] {
            --navbar-bg: #111827;
            --navbar-border: #374151;
            --navbar-text: #f9fafb;
            --navbar-text-hover: #93c5fd;
            --body-bg: #0f172a;
            --body-color: #f8fafc;
            --card-bg: #1e293b;
            --card-border: #475569;
            --hero-bg: #1e293b;
            --footer-bg: #1e293b;
            --footer-color: #f8fafc;
            --link-color: #93c5fd;
            --border-color: #475569;
            --button-primary-bg: #3b82f6;
            --button-primary-color: #ffffff;
            --button-outline-border: #93c5fd;
            --button-outline-color: #93c5fd;
            --button-outline-hover-bg: #3b82f6;
            --alert-info-bg: #0f172a;
            --alert-info-border: #475569;
            --alert-info-color: #e2e8f0;
        }
        
        /* Apply theme variables */
        body {
            background-color: var(--body-bg);
            color: var(--body-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .navbar {
            background-color: var(--navbar-bg) !important;
            border-bottom: 1px solid var(--navbar-border);
            transition: background-color 0.3s ease;
        }
        
        .navbar-brand,
        .navbar-nav .nav-link {
            color: var(--navbar-text) !important;
            transition: color 0.3s ease;
        }
        
        .navbar-brand {
            cursor: default;
            text-decoration: none;
        }
        
        .navbar-brand:hover,
        .navbar-brand:focus {
            color: var(--navbar-text) !important;
            text-decoration: none;
        }
        
        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link:focus {
            color: var(--navbar-text-hover) !important;
        }
        
        .navbar-toggler {
            border-color: var(--navbar-text);
            border-width: 2px;
        }
        
        .navbar-toggler:focus {
            box-shadow: 0 0 0 0.25rem rgba(29, 78, 216, 0.25);
        }
        
        /* Default light theme hamburger icon (dark lines) */
        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23111827' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2.5' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
        }
        
        /* Dark theme hamburger icon (light lines) */
        [data-theme="dark"] .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23f9fafb' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2.5' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
        }
        
        [data-theme="dark"] .navbar-toggler:focus {
            box-shadow: 0 0 0 0.25rem rgba(147, 197, 253, 0.25);
        }
        
        .card {
            background-color: var(--card-bg);
            border-color: var(--card-border);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        
        .hero {
            background-color: var(--hero-bg);
            transition: background-color 0.3s ease;
        }
        
        footer {
            background-color: var(--footer-bg);
            color: var(--footer-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .text-light {
            color: var(--link-color) !important;
        }
        
        .alert-info {
            background-color: var(--hero-bg);
            border-color: var(--border-color);
            color: var(--body-color);
        }
        
        /* Skip to content link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #000;
            color: #fff;
            padding: 8px;
            text-decoration: none;
            z-index: 1050;
            border-radius: 0 0 4px 4px;
        }
        
        .skip-link:focus {
            top: 0;
        }
        
        /* Enhanced focus indicators - WCAG AAA compliant */
        .btn:focus,
        .nav-link:focus {
            outline: 3px solid var(--button-outline-border);
            outline-offset: 2px;
        }
        
        .navbar-brand:focus {
            outline: 3px solid var(--navbar-text);
            outline-offset: 2px;
        }
        
        /* Language switcher styling */
        .language-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .language-switcher .btn {
            font-size: 0.875rem;
            padding: 0.25rem 0.5rem;
            min-width: 40px;
        }
        
        /* Theme toggle button - WCAG AAA compliant */
        .theme-toggle {
            background: none;
            border: 2px solid var(--navbar-text);
            color: var(--navbar-text);
            border-radius: 0.375rem;
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .theme-toggle:hover,
        .theme-toggle:focus {
            background-color: var(--navbar-text);
            color: var(--navbar-bg);
            outline: 2px solid var(--navbar-text);
            outline-offset: 2px;
        }
        
        /* Ensure proper spacing for navbar items */
        .navbar-nav .nav-item {
            margin-right: 1rem;
        }
        
        /* Main content spacing */
        main {
            padding-top: 2rem;
            padding-bottom: 2rem;
        }
        
        /* Hero section styling */
        .hero {
            padding: 3rem 0;
            border-radius: 0.375rem;
            margin-bottom: 2rem;
        }
        
        /* Footer styling */
        footer {
            padding: 2rem 0;
            margin-top: 3rem;
            border-top: 1px solid var(--border-color);
        }
        
        /* Ensure all interactive elements are accessible */
        .btn, .nav-link, .navbar-brand {
            cursor: pointer;
        }
        
        /* Screen reader only text */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Custom button styling for theme - WCAG AAA compliant */
        .btn-primary {
            background-color: var(--button-primary-bg);
            border-color: var(--button-primary-bg);
            color: var(--button-primary-color);
        }
        
        .btn-primary:hover,
        .btn-primary:focus {
            background-color: var(--button-primary-bg);
            border-color: var(--button-primary-bg);
            color: var(--button-primary-color);
            filter: brightness(0.9);
        }
        
        .btn-outline-primary {
            border-color: var(--button-outline-border);
            color: var(--button-outline-color);
            background-color: transparent;
        }
        
        .btn-outline-primary:hover,
        .btn-outline-primary:focus {
            background-color: var(--button-outline-hover-bg);
            border-color: var(--button-outline-border);
            color: var(--button-primary-color);
        }
        
        .alert-info {
            background-color: var(--alert-info-bg);
            border-color: var(--alert-info-border);
            color: var(--alert-info-color);
            border-width: 2px;
        }
        
        .alert-info .alert-heading {
            color: var(--alert-info-color);
        }
    </style>
</head>
<body>
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-link" data-en="Skip to main content" data-fr="Passer au contenu principal">Skip to main content</a>
    
    <!-- Navigation Header -->
    <header>
        <nav class="navbar navbar-expand-lg" role="navigation" aria-label="Main navigation">
            <div class="container">
                <!-- Brand/Logo -->
                <div class="navbar-brand d-flex align-items-center">
                    <img src="https://maruchinu.ca/mcc/beaver.png" alt="Beaver logo" class="me-2" style="height: 50px; width: auto;">
                    <span data-en="CrÃ©avia" data-fr="CrÃ©avia">CrÃ©avia</span>
                </div>
                
                <!-- Mobile menu toggle button -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation menu">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only" data-en="Toggle navigation menu" data-fr="Basculer le menu de navigation">Toggle navigation menu</span>
                </button>
                
                <!-- Navigation menu -->
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0" role="menubar">
                        <li class="nav-item" role="none">
                            <a class="nav-link active" href="#" role="menuitem" aria-current="page" 
                               data-en="Home" data-fr="Accueil">Home</a>
                        </li>
                        <li class="nav-item" role="none">
                            <a class="nav-link" href="#" role="menuitem" 
                               data-en="About" data-fr="Ã€ propos">About</a>
                        </li>
                    </ul>
                    
                    <!-- Theme Toggle and Language Switcher -->
                    <div class="language-switcher" role="group" aria-label="Settings">
                        <!-- Theme toggle -->
                        <button type="button" class="theme-toggle" id="theme-toggle" 
                                aria-label="Toggle dark/light theme" 
                                data-en-light="Switch to dark mode" 
                                data-fr-light="Passer au mode sombre"
                                data-en-dark="Switch to light mode" 
                                data-fr-dark="Passer au mode clair">
                            <span id="theme-icon">ðŸŒ™</span>
                        </button>
                        
                        <!-- Language Switcher -->
                        <button type="button" class="btn btn-outline-primary btn-sm" 
                                data-lang="fr-CA" aria-pressed="false" 
                                aria-label="Passer au franÃ§ais" 
                                id="lang-fr-btn" style="display: none;">FR</button>
                        <button type="button" class="btn btn-outline-primary btn-sm" 
                                data-lang="en-CA" aria-pressed="false" 
                                aria-label="Switch to English" 
                                id="lang-en-btn">EN</button>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    
    <!-- Main Content -->
    <main id="main-content" class="container" role="main">
        <!-- Hero Section -->
        <section class="hero text-center" aria-labelledby="hero-heading">
            <h1 id="hero-heading" class="display-4 mb-4" 
                data-en="Welcome to Our Bilingual Application" 
                data-fr="Bienvenue dans notre application bilingue">
                Welcome to Our Bilingual Application
            </h1>
            <p class="lead mb-4" 
               data-en="This template demonstrates a fully accessible, bilingual web application built with Bootstrap 5.3." 
               data-fr="Ce modÃ¨le dÃ©montre une application web bilingue entiÃ¨rement accessible construite avec Bootstrap 5.3.">
                This template demonstrates a fully accessible, bilingual web application built with Bootstrap 5.3.
            </p>
            <button type="button" class="btn btn-primary btn-lg" 
                    data-en="Get Started" data-fr="Commencer">
                Get Started
            </button>
        </section>
        
        <!-- Content Section -->
        <section aria-labelledby="content-heading">
            <h2 id="content-heading" class="mb-4" 
                data-en="Key Features" data-fr="CaractÃ©ristiques principales">
                Key Features
            </h2>
            
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="card-title h5" 
                                data-en="Accessibility First" data-fr="AccessibilitÃ© d'abord">
                                Accessibility First
                            </h3>
                            <p class="card-text" 
                               data-en="Built following WCAG 2.2 AA standards with semantic HTML, proper ARIA labels, and keyboard navigation support." 
                               data-fr="Construit selon les normes WCAG 2.2 AA avec du HTML sÃ©mantique, des Ã©tiquettes ARIA appropriÃ©es et un support de navigation au clavier.">
                                Built following WCAG 2.2 AA standards with semantic HTML, proper ARIA labels, and keyboard navigation support.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="card-title h5" 
                                data-en="Bilingual Support" data-fr="Support bilingue">
                                Bilingual Support
                            </h3>
                            <p class="card-text" 
                               data-en="Seamless language switching between English and French Canadian with proper locale support." 
                               data-fr="Basculement fluide entre l'anglais et le franÃ§ais canadien avec un support de locale appropriÃ©.">
                                Seamless language switching between English and French Canadian with proper locale support.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="card-title h5" 
                                data-en="Dark/Light Theme" data-fr="ThÃ¨me sombre/clair">
                                Dark/Light Theme
                            </h3>
                            <p class="card-text" 
                               data-en="Toggle between dark and light themes with smooth transitions and accessibility support." 
                               data-fr="Basculez entre les thÃ¨mes sombre et clair avec des transitions fluides et un support d'accessibilitÃ©.">
                                Toggle between dark and light themes with smooth transitions and accessibility support.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Additional Content Section -->
        <section class="mt-5" aria-labelledby="additional-content-heading">
            <h2 id="additional-content-heading" class="mb-4" 
                data-en="About This Template" data-fr="Ã€ propos de ce modÃ¨le">
                About This Template
            </h2>
            <div class="row">
                <div class="col-lg-8">
                    <p data-en="This template serves as a starting point for building accessible, bilingual web applications. It includes all the necessary components for a modern web application while maintaining compliance with accessibility standards." 
                       data-fr="Ce modÃ¨le sert de point de dÃ©part pour crÃ©er des applications web accessibles et bilingues. Il comprend tous les composants nÃ©cessaires pour une application web moderne tout en maintenant la conformitÃ© aux normes d'accessibilitÃ©.">
                        This template serves as a starting point for building accessible, bilingual web applications. It includes all the necessary components for a modern web application while maintaining compliance with accessibility standards.
                    </p>
                    <p data-en="Feel free to customize the content, styling, and functionality to meet your specific needs." 
                       data-fr="N'hÃ©sitez pas Ã  personnaliser le contenu, le style et les fonctionnalitÃ©s selon vos besoins spÃ©cifiques.">
                        Feel free to customize the content, styling, and functionality to meet your specific needs.
                    </p>
                </div>
                <div class="col-lg-4">
                    <div class="alert alert-info" role="alert">
                        <h4 class="alert-heading" data-en="Note" data-fr="Remarque">Note</h4>
                        <p class="mb-0" data-en="This template now includes dark/light theme support with CSS custom properties for easy customization." 
                           data-fr="Ce modÃ¨le inclut maintenant le support des thÃ¨mes sombre/clair avec des propriÃ©tÃ©s CSS personnalisÃ©es pour une personnalisation facile.">
                            This template now includes dark/light theme support with CSS custom properties for easy customization.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="mt-auto" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5 data-en="Bilingual Web Application" data-fr="Application Web Bilingue">
                        Bilingual Web Application
                    </h5>
                    <p data-en="A template for building accessible, bilingual web applications with theme support." 
                       data-fr="Un modÃ¨le pour crÃ©er des applications web accessibles et bilingues avec support de thÃ¨mes.">
                        A template for building accessible, bilingual web applications with theme support.
                    </p>
                </div>
                <div class="col-md-6">
                    <h5 data-en="Quick Links" data-fr="Liens rapides">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-light" data-en="Privacy Policy" data-fr="Politique de confidentialitÃ©">Privacy Policy</a></li>
                        <li><a href="#" class="text-light" data-en="Terms of Service" data-fr="Conditions d'utilisation">Terms of Service</a></li>
                        <li><a href="#" class="text-light" data-en="Support" data-fr="Support">Support</a></li>
                    </ul>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0" data-en="Â© 2025 Bilingual Web Application. All rights reserved." 
                   data-fr="Â© 2025 Application Web Bilingue. Tous droits rÃ©servÃ©s.">
                    Â© 2025 Bilingual Web Application. All rights reserved.
                </p>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap 5.3 JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    
    <!-- Enhanced JavaScript with Theme Support -->
    <script>
        // Theme management
        class ThemeManager {
            constructor() {
                this.currentTheme = this.getStoredTheme() || 'light';
                this.init();
            }
            
            getStoredTheme() {
                // Since we can't use localStorage, we'll use a simple variable
                return this.currentTheme || 'light';
            }
            
            init() {
                this.applyTheme(this.currentTheme);
                this.setupThemeToggle();
            }
            
            setupThemeToggle() {
                const themeToggle = document.getElementById('theme-toggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', () => {
                        this.toggleTheme();
                    });
                }
            }
            
            toggleTheme() {
                this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';
                this.applyTheme(this.currentTheme);
                this.announceThemeChange();
            }
            
            applyTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                this.updateThemeButton(theme);
            }
            
            updateThemeButton(theme) {
                const themeToggle = document.getElementById('theme-toggle');
                const themeIcon = document.getElementById('theme-icon');
                
                if (themeToggle && themeIcon) {
                    if (theme === 'dark') {
                        themeIcon.textContent = 'â˜€ï¸';
                        themeToggle.setAttribute('aria-label', 'Switch to light mode');
                    } else {
                        themeIcon.textContent = 'ðŸŒ™';
                        themeToggle.setAttribute('aria-label', 'Switch to dark mode');
                    }
                }
            }
            
            announceThemeChange() {
                const announcement = document.createElement('div');
                announcement.setAttribute('aria-live', 'polite');
                announcement.setAttribute('aria-atomic', 'true');
                announcement.className = 'sr-only';
                
                const message = this.currentTheme === 'dark' ? 
                    'Dark theme activated' : 
                    'Light theme activated';
                
                announcement.textContent = message;
                document.body.appendChild(announcement);
                
                setTimeout(() => {
                    document.body.removeChild(announcement);
                }, 1000);
            }
        }
        
        // Language switching functionality
        class LanguageSwitcher {
            constructor() {
                this.currentLang = this.getLanguageFromUrl() || document.documentElement.lang || 'en-CA';
                this.init();
            }
            
            getLanguageFromUrl() {
                const urlParams = new URLSearchParams(window.location.search);
                const lang = urlParams.get('lang');
                
                if (lang === 'en' || lang === 'en-CA') {
                    return 'en-CA';
                } else if (lang === 'fr' || lang === 'fr-CA') {
                    return 'fr-CA';
                }
                
                return null;
            }
            
            updateUrl(lang) {
                const url = new URL(window.location);
                const shortLang = lang.split('-')[0];
                url.searchParams.set('lang', shortLang);
                window.history.replaceState({}, '', url);
            }
            
            init() {
                const langButtons = document.querySelectorAll('[data-lang]');
                langButtons.forEach(button => {
                    button.addEventListener('click', (e) => {
                        const targetLang = e.target.getAttribute('data-lang');
                        this.switchLanguage(targetLang);
                    });
                });
                
                this.switchLanguage(this.currentLang);
            }
            
            switchLanguage(lang) {
                this.currentLang = lang;
                document.documentElement.lang = lang;
                
                const elements = document.querySelectorAll('[data-en][data-fr]');
                elements.forEach(element => {
                    const text = element.getAttribute(`data-${lang.split('-')[0]}`);
                    if (text) {
                        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                            element.placeholder = text;
                        } else if (element.tagName === 'IMG') {
                            element.alt = text;
                        } else if (element.hasAttribute('aria-label')) {
                            element.setAttribute('aria-label', text);
                        } else if (element.hasAttribute('title')) {
                            element.title = text;
                        } else if (element.hasAttribute('content')) {
                            element.setAttribute('content', text);
                        } else {
                            element.textContent = text;
                        }
                    }
                });
                
                this.updateLanguageButtons();
                this.announceLanguageChange(lang);
            }
            
            updateLanguageButtons() {
                const frBtn = document.getElementById('lang-fr-btn');
                const enBtn = document.getElementById('lang-en-btn');
                
                if (this.currentLang === 'en-CA') {
                    frBtn.style.display = 'block';
                    enBtn.style.display = 'none';
                } else {
                    frBtn.style.display = 'none';
                    enBtn.style.display = 'block';
                }
            }
            
            announceLanguageChange(lang) {
                const announcement = document.createElement('div');
                announcement.setAttribute('aria-live', 'polite');
                announcement.setAttribute('aria-atomic', 'true');
                announcement.className = 'sr-only';
                
                const message = lang === 'en-CA' ? 
                    'Language switched to English' : 
                    'Langue changÃ©e en franÃ§ais';
                
                announcement.textContent = message;
                document.body.appendChild(announcement);
                
                setTimeout(() => {
                    document.body.removeChild(announcement);
                }, 1000);
            }
        }
        
        // Initialize everything when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            new ThemeManager();
            new LanguageSwitcher();
            
            // Handle escape key to close mobile menu
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    const mobileMenu = document.querySelector('.navbar-collapse.show');
                    if (mobileMenu) {
                        const toggleButton = document.querySelector('.navbar-toggler');
                        if (toggleButton) {
                            toggleButton.click();
                            toggleButton.focus();
                        }
                    }
                }
            });
            
            // Ensure proper focus management for mobile menu
            const navbarToggler = document.querySelector('.navbar-toggler');
            if (navbarToggler) {
                navbarToggler.addEventListener('click', () => {
                    setTimeout(() => {
                        const isExpanded = navbarToggler.getAttribute('aria-expanded') === 'true';
                        if (isExpanded) {
                            const firstNavLink = document.querySelector('.navbar-nav .nav-link');
                            if (firstNavLink) {
                                firstNavLink.focus();
                            }
                        }
                    }, 100);
                });
            }
        });
    </script>
</body>
</html>
