<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Date-Based Link List</title>
</head>
<body>
  <h1>Available Links</h1>
  <ul id="link-list"></ul>

  <script>
    const startDate = new Date('2025-05-25');
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(today.getDate() + 1);

    const listEl = document.getElementById('link-list');

    // Helper: format YYYY-MM-DD
    function formatDate(date) {
      return date.toISOString().split('T')[0];
    }

    async function checkLinkExists(url) {
      try {
        const response = await fetch(url, { method: 'HEAD' });
        return response.ok;
      } catch (err) {
        return false;
      }
    }

    async function generateLinks() {
      let current = new Date(startDate);

      while (current <= tomorrow) {
        const dateStr = formatDate(current);
        const linkUrl = `myfile.html?date=${dateStr}`;

        const exists = await checkLinkExists(linkUrl);
        if (exists) {
          const li = document.createElement('li');
          const a = document.createElement('a');
          a.href = linkUrl;
          a.textContent = dateStr;
          li.appendChild(a);
          listEl.appendChild(li);
        }

        current.setDate(current.getDate() + 1);
      }
    }

    generateLinks();
  </script>
</body>
</html>
